<div class="d-flex flex-column py-5" *ngIf="!isAuth">
  <!-- <ng-container *ngIf="dashboardMessage">
    <div class="d-flex justify-content-center">
      <ngb-alert [type]="dashboardMessage.type" [dismissible]="false">
        <strong>{{dashboardMessage.messageStatus}}</strong> {{dashboardMessage.messageText}}
      </ngb-alert>
    </div>
  </ng-container> -->


  <div class="d-flex justify-content-center">
    <form [formGroup]="authForm">
      <div class="form-group">
        <div class="row">
          <label for="email">Email</label>
          <input id="email" type="text" class="form-control" formControlName="user_email">
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <label for="password">Password</label>
          <input id="password" type="text" class="form-control" formControlName="user_password">
        </div>
      </div>

      <div class="d-flex justify-content-center">
        <a type="button" class="btn btn-default float-right m-2 border-warning" (click)="onSignIn()">SignIn</a>
        <a type="button" class="btn btn-warning float-right m-2" (click)="onSignUp()">SignUp</a>
      </div>

    </form>
  </div>

</div>



<div class="col-12" *ngIf="isAuth">
  <div class="d-flex justify-content-end">
    <small>Welcome! {{user?.uid}}</small>
  </div>
  <div class="d-flex mx-2 my-4" [formGroup]="outlineDataForm">
    <div class="form-group mx-2">
      <div class="d-flex align-items-center">
        <label for="password">Outline: </label>
        <input id="password" type="text" class="form-control mx-2" formControlName="outline">
      </div>
    </div>
    <div class="form-group mx-2">
      <div class="d-flex align-items-center">
        <label for="password">Description: </label>
        <input id="password" type="text" class="form-control mx-2" formControlName="description">
      </div>
    </div>
    <div class="form-group d-flex">
      <a type="button" class="btn btn-warning mx-1" (click)="onAddData()"><i class="fas fa-plus pr-2 py-auto"></i>Add</a>
      <a type="button" class="btn btn-default border-warning mx-1" (click)="onAddSharedData()"><i class="fas fa-share-alt pr-2 py-auto"></i>Add Shared</a>
    </div>
  </div>
  <div class="d-flex mx-2 my-4" *ngIf="!user.admin">
    <div class="form-group d-flex">
      <input id="admin-email" type="email" class="form-control mx-2 col-8" ngModel #adminEmail="ngModel">
      <a type="button" class="btn btn-success mx-2 w-100 col-4" (click)="onSetAdmin(adminEmail)"><i class="fas fa-user pr-2 py-auto"></i>Admin</a>
    </div>
  </div>

  <h5>Personal Data</h5>
  <div *ngIf="outlineData.length !== 0">
    <div class="row">
      <ng-container *ngFor="let data of outlineData"> <!-- ToDo: trackBy works only with Array NOT with Observable -->
        <div class="card mx-2 my-2">
          <span class="text-right px-2 py-1" (click)="onDeleteData(data?.idx)">
            <a><i class="fa fa-times" aria-hidden="true"></i></a>
          </span>
          <div class="card-body">
            <h5 class="card-title text-center">{{data?.outline}}</h5>
            <p class="card-text">{{data?.description}}</p>
            <small>{{data?.creator}}</small>
            <div class="d-flex justify-content-center">
              <!-- <a type="button" class="btn btn-default" (click)="onDetail(passwordData)">Detail</a> -->
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
  <hr>
  <h5>Shared Data</h5><small class="text-danger">*Only admin can delete</small>
  <div *ngIf="sharedData.length !== 0">
    <div class="row">
      <ng-container *ngFor="let data of sharedData"> <!-- ToDo: trackBy works only with Array NOT with Observable -->
        <div class="card mx-2 my-2">
          <span class="text-right px-2 py-1" (click)="onDeleteSharedData(data?.idx)">
            <a><i class="fa fa-times" aria-hidden="true"></i></a>
          </span>
          <div class="card-body">
            <h5 class="card-title text-center">{{data?.outline}}</h5>
            <p class="card-text">{{data?.description}}</p>
            <small>{{data?.creator}}</small>
            <div class="d-flex justify-content-center">
              <!-- <a type="button" class="btn btn-default" (click)="onDetail(passwordData)">Detail</a> -->
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
